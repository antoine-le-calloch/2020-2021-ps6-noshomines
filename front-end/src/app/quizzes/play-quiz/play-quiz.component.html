<button class="button-card-back" routerLink="/quiz-list">Retour</button>

<div *ngIf="quiz && quiz.name != null">
  <h1 class="quiz-name"> Quiz {{quiz.name}}</h1>
  <div *ngIf="quiz && indexQuestion < quiz.questions.length">
    <h1 class="num-question">question nÂ°{{indexQuestion + 1}}/{{quiz.questions.length}}</h1>
  </div>
</div>

<div class="rectangle" *ngIf="quiz && indexQuestion < quiz.questions.length; then questionsBlock else noQuestionsBlock"></div>

  <ng-template #questionsBlock>
  <div *ngIf="printDisplay==false; then playBlock else displayBlock"></div>

    <ng-template #playBlock>
      <app-question-play [listIndexAnswerFalse]="listIndexAnswerFalse" [question]="quiz.questions[indexQuestion]" (indexAnswerChecked)="answerSelected($event)"></app-question-play>

      <div *ngIf="indexAnswer==null; then uselessButton else usefullButton"></div>
      <ng-template #uselessButton>
        <button type="submit" class="button-card-validate">Valider</button>
      </ng-template>

      <ng-template #usefullButton>
        <button type="submit" class="button-card-validate" (click)="validateQuestion()">Valider</button>
      </ng-template>

    </ng-template>

    <ng-template #displayBlock>
      <app-question-play [listIndexAnswerFalse]="listIndexAnswerFalse" [question]="quiz.questions[indexQuestion]"></app-question-play>
      <div *ngIf="user.answerDisplayOption">
        <app-answer-display [isCorrect]="isCorrect" [question]="quiz.questions[indexQuestion]" ></app-answer-display>

      </div>
      <button type="submit" class="button-card" (click)="nextQuestion()">Prochaine question</button>
    </ng-template>

    </ng-template>



    <ng-template #noQuestionsBlock>
      <app-resume-display [displayScoreOption]="user.displayScoreOption" [quiz]="quiz" [score]="score"></app-resume-display>
      <button type="submit" class="button-card" (click)="restartQuiz()">Recommencez le quiz</button>
    </ng-template>




